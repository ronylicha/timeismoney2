# R√©organisation du fichier .env - R√©sum√©

## Date : 11 Novembre 2025

### ‚úÖ Changements Effectu√©s

#### 1. Structure R√©organis√©e par Sections Logiques :
- **APPLICATION** : Configuration de base
- **LOCALIZATION** : Langues et locales
- **SECURITY** : S√©curit√© et 2FA
- **LOGGING** : Journalisation
- **DATABASE** : Base de donn√©es
- **SESSION & CACHE** : Sessions et cache
- **REDIS** : Configuration Redis
- **QUEUES & BROADCASTING** : Files d'attente
- **MAIL** : Configuration email
- **AWS** : Services AWS
- **VITE & FRONTEND** : Configuration frontend
- **WEB PUSH NOTIFICATIONS** : Notifications push
- **NF525 COMPLIANCE** : Conformit√© fran√ßaise
- **INVOICE SETTINGS** : Param√®tres de facturation
- **TIME TRACKING** : Suivi du temps
- **HSM** : Hardware Security Module
- **SIGNATURE √âLECTRONIQUE** : Signatures eIDAS
- **ARCHIVAGE L√âGAL** : Archivage 10 ans

#### 2. Doublons Supprim√©s :
- ‚ùå Configuration HSM en double (lignes 183-188 de l'ancien fichier)
- ‚úÖ Une seule section HSM maintenant

#### 3. Ajouts Importants :
- ‚úÖ Configuration Certigna compl√®te ajout√©e
- ‚úÖ AWS_DEFAULT_REGION chang√© √† `eu-west-3` (Paris)
- ‚úÖ HSM_CLOUD_PROVIDER d√©fini sur `certigna` par d√©faut
- ‚úÖ Commentaires explicatifs pour Certigna

#### 4. Corrections :
- ‚úÖ Sections mieux organis√©es et comment√©es
- ‚úÖ Variables regroup√©es par fonction
- ‚úÖ Notes importantes √† la fin
- ‚úÖ Pas de lignes vides inutiles entre les variables d'une m√™me section

### üìã Configuration HSM/Certigna :

```env
# Mode actuel : simulator (d√©veloppement)
HSM_MODE=simulator

# Provider cloud configur√© : certigna
HSM_CLOUD_PROVIDER=certigna

# Sandbox Certigna activ√©
CERTIGNA_SANDBOX=true
```

### üîê Valeurs Sensibles Pr√©serv√©es :
- Cl√© d'application (APP_KEY)
- Mot de passe base de donn√©es
- Credentials email
- Cl√©s VAPID

### üìù Notes :
- Le fichier est maintenant bien structur√© et sans doublons
- Toutes les valeurs existantes ont √©t√© pr√©serv√©es
- Configuration pr√™te pour Certigna en production
- Compatible avec `php artisan config:cache` ‚úÖ

### üöÄ Prochaines √âtapes pour Production :
1. Commander le certificat Certigna ID RGS** / eIDAS
2. Remplir les variables `CERTIGNA_*`
3. Changer `HSM_MODE=cloud`
4. Changer `CERTIGNA_SANDBOX=false`
5. Configurer les chemins des certificats